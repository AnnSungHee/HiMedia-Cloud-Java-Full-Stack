<!-- 
1. 로그인 페이지 구현
2. 아이디와 비밀번호 입력 구현
3. 아이디를 입력하였을때 틀린다면 alert 메서드를 사용하여 입력이 틀렸다는 오류 출력
4. 비밀번호를 입력하였을때 틀린다면 alert 메서드를 사용하여 입력이 틀렸다는 오류 출력
7. 아이디와 비밀번호가 일치해서 성공한다면 로그인 성공  표시 필수 ex) ✅ 로그인 성공! 환영합니다. admin님! 
5. 사용자의 계정 정보를 복수 가지고 있어야 함
6. 사용자의 계정 정보는 객체를 가지고 있는 배열로 저장해야함
-->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로그인 예제</title>
</head>
<body>
    <form name="login">
        <label for="uid">아이디</label>
        <input id="uid" name="uid" type="id">
        <br>
        <label for="upw">비밀번호</label>
        <input id="upw" name="upw" type="password">
        <br>
        <button type="submit">로그인</button>
    </form>
    <p id="printName"></p>
    <p id="termResult"></p>

    <script>
        const forms = document.login;
        
        const users = [
            {id: "123", pw: "456"}, 
            {id: "abc", pw: "123"},
            {id: "가나다", pw: "789"},
            {id: "ABC", pw: "456"}
        ];
        
        
        forms.addEventListener("submit", (e) => {
            e.preventDefault();
            let inputId = e.target.uid.value;
            
            /*
            let user = null;

            users.forEach((u)=> {
                if(u.id === inputId) {
                    user = u;
                }
            });
            */

            // 배열에서 찾고자 하는 요소 하나만 반환함 
            let user = users.find((u) => u.id === inputId)


            if(user === null) {
                alert("없는 아이디 입니다.");
                return;
            }

            if(user.pw === inputPw) {
                alert("로그인 성공! 환영합니다." + user.id + "님")
            } else {
                alert("비밀번호가 일치하지 않습니다.")
            }

        });
    </script>
</body>
</html>